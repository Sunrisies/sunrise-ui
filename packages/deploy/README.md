# Sunrise Deploy

è‡ªåŠ¨åŒ–éƒ¨ç½²å·¥å…·ï¼Œæ”¯æŒå¤šé¡¹ç›®é…ç½®ç®¡ç†å’Œä¸€é”®éƒ¨ç½²ã€‚

## ç‰¹æ€§

- ğŸš€ ä¸€é”®éƒ¨ç½²é¡¹ç›®åˆ°è¿œç¨‹æœåŠ¡å™¨
- âš™ï¸ ç®¡ç†å¤šä¸ªé¡¹ç›®é…ç½®
- ğŸ“¦ è‡ªåŠ¨æ„å»ºå’Œå‹ç¼©é¡¹ç›®
- ğŸ”„ æ”¯æŒè¿œç¨‹å¤‡ä»½å’Œè§£å‹
- ğŸŒ³ æ”¯æŒè·¯ç”±éƒ¨ç½²æ¨¡å¼
- ğŸ’¾ é…ç½®æ–‡ä»¶æŒä¹…åŒ–å­˜å‚¨

## å®‰è£…

```bash
npm install -g sunrise-deploy
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

å®‰è£…å®Œæˆåï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œï¼š

```bash
sunrise-deploy
```

### æŒ‡å®šé…ç½®æ–‡ä»¶

```bash
sunrise-deploy -c /path/to/deploy.config.json
```

## é…ç½®æ–‡ä»¶

é…ç½®æ–‡ä»¶é»˜è®¤ä½äº `~/deploy/deploy.config.json`ï¼ŒåŒ…å«ä»¥ä¸‹ç»“æ„ï¼š

```json
{
  "default": {
    "zip": "dist.zip",
    "buildCommand": "npm run build",
    "steps": {
      "backup": {
        "enabled": true,
        "command": "cd $REMOTE && cp -r dist dist.backup",
        "description": "è¿œç¨‹å¤‡ä»½æ—§ç‰ˆæœ¬"
      },
      "build": {
        "enabled": true,
        "description": "æœ¬åœ°æ„å»ºé¡¹ç›®"
      },
      "zip": {
        "enabled": true,
        "description": "å‹ç¼©é¡¹ç›®æ–‡ä»¶"
      },
      "upload": {
        "enabled": true,
        "description": "ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨"
      }
    }
  },
  "projects": {
    "my-project": {
      "server": "user@example.com",
      "remote": "/var/www/my-project",
      "local": "/path/to/local/project",
      "steps": {
        "extract": {
          "enabled": true,
          "command": "cd $REMOTE/dist && unzip $ZIP && rm $ZIP",
          "description": "è¿œç¨‹è§£å‹æ–‡ä»¶"
        }
      }
    }
  }
}
```

### é…ç½®è¯´æ˜

- `default`: é»˜è®¤é…ç½®ï¼Œæ‰€æœ‰é¡¹ç›®å…±äº«
  - `zip`: å‹ç¼©æ–‡ä»¶å
  - `buildCommand`: æœ¬åœ°æ„å»ºå‘½ä»¤
  - `steps`: éƒ¨ç½²æ­¥éª¤é…ç½®
- `projects`: å„é¡¹ç›®ç‰¹å®šé…ç½®
  - `server`: æœåŠ¡å™¨åœ°å€
  - `remote`: è¿œç¨‹è·¯å¾„
  - `local`: æœ¬åœ°è·¯å¾„
  - `steps.extract`: è§£å‹æ­¥éª¤é…ç½®

### å˜é‡æ›¿æ¢

åœ¨å‘½ä»¤ä¸­å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å˜é‡ï¼š
- `$SERVER`: æœåŠ¡å™¨åœ°å€
- `$REMOTE`: è¿œç¨‹è·¯å¾„
- `$ZIP`: å‹ç¼©æ–‡ä»¶å

## åŠŸèƒ½è¯´æ˜

### äº¤äº’å¼ç•Œé¢

å·¥å…·æä¾›äº†å‹å¥½çš„äº¤äº’å¼ç•Œé¢ï¼Œæ”¯æŒä»¥ä¸‹æ“ä½œï¼š

1. ğŸš€ å¼€å§‹éƒ¨ç½²ï¼šé€‰æ‹©é¡¹ç›®å¹¶æ‰§è¡Œéƒ¨ç½²æµç¨‹
2. âš™ï¸ é…ç½®ç®¡ç†ï¼šæ·»åŠ ã€æŸ¥çœ‹ã€åˆ é™¤é¡¹ç›®é…ç½®
3. âŒ é€€å‡ºç¨‹åº

### é…ç½®ç®¡ç†

é…ç½®ç®¡ç†åŠŸèƒ½æ”¯æŒï¼š

- ğŸ“‹ æŸ¥çœ‹å½“å‰é…ç½®ï¼šæ˜¾ç¤ºæ‰€æœ‰é¡¹ç›®é…ç½®
- ğŸ“ æ–°å¢é¡¹ç›®é…ç½®ï¼šæ·»åŠ æ–°é¡¹ç›®é…ç½®
- ğŸ“ åˆ é™¤é¡¹ç›®é…ç½®ï¼šåˆ é™¤å·²æœ‰é¡¹ç›®é…ç½®

### éƒ¨ç½²æµç¨‹

éƒ¨ç½²æµç¨‹åŒ…å«ä»¥ä¸‹æ­¥éª¤ï¼š

1. è¿œç¨‹å¤‡ä»½ï¼ˆå¯é€‰ï¼‰
2. æœ¬åœ°æ„å»º
3. æ–‡ä»¶å‹ç¼©
4. æ–‡ä»¶ä¸Šä¼ 
5. è¿œç¨‹è§£å‹å’Œæ¸…ç†

## å¼€å‘

### æ„å»ºé¡¹ç›®

```bash
npm run build
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

### ç±»å‹æ£€æŸ¥

```bash
npm run tsc
```

## è®¸å¯è¯

MIT
